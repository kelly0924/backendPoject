<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>mainpage</h1>
    <header>
        <div>
            <input type="button" value="추가" onclick="addMemoEvent()">
        </div>
    </header>
    <main id="main">
        <div id="mainDiv">
            <!-- <div>내용</div>
            <div>날짜</div>
            <div>작성자</div> -->
        </div>
    </main>
  
    
    <script>
        
        fetch("/mainPage")
        .then((response) => response.json())
        .then((data) => {
            console.log(data)//data는 백엔드에서 넘어 오는 json 배열로 담은 데이터이다.  
            for(let index=0; index<data.length; index++){
                let cnt=0;
                let resutlDiv=document.getElementById("mainDiv")

                let newContentDiv=document.createElement("div")
                newContentDiv.setAttribute("id",cnt)
                resutlDiv.appendChild(newContentDiv)
                newContentDiv.innerHTML=data[index].memoContents

                let newWriteDateDiv=document.createElement("div")
                newWriteDateDiv.setAttribute("id",cnt)
                resutlDiv.appendChild(newWriteDateDiv)
                newWriteDateDiv.innerHTML=data[index].memoWriteDate

                let newUserDiv=document.createElement("div")
                newUserDiv.setAttribute("id",cnt)
                resutlDiv.appendChild(newUserDiv)
                newUserDiv.innerHTML=data[index].userId
                cnt=cnt+1
            }

        })// 백엔드에서 보내준 json 형태의 데이터
     
        const addMemoEvent =()=>{
            location.href="/addMemo"
        }

    </script>
</body>
</html>